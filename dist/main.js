(()=>{"use strict";class e{constructor(e,t,n,a=!1,o="low"){this.title=String(e),this.description=String(t),this.date=new Date(n),this.done=a,this.priority=o}add(){const e=JSON.parse(localStorage.getItem("todos"));e.push(this.create()),localStorage.setItem("todos",JSON.stringify(e))}delete(){const e=JSON.parse(localStorage.getItem("todos"));priority;for(let t=0;t<e.length;t++)this.title==e[t].title&&e.splice(t,1);localStorage.setItem("todos",JSON.stringify(e))}edit(e=!1,t){const n=JSON.parse(localStorage.getItem("todos"));for(let a=0;a<n.length;a++)this.title==n[a].title&&(n[a].done=e,n[a].priority=t,console.log(n[a]));localStorage.setItem("todos",JSON.stringify(n))}create(){const{title:e,description:t,date:n,done:a,priority:o}=this;return{title:e,description:t,date:n,done:a,priority:o}}}const t=e=>{const t=JSON.parse(localStorage.getItem("todos"));for(let n of t)n.done=e;localStorage.setItem("todos",JSON.stringify(t))};(()=>{const n=document.getElementById("content");if(null===localStorage.getItem("todos")){const t=new Date,n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();localStorage.setItem("todos",JSON.stringify([new e("Morning mommy","Saying good morning to my beloved mother",n,!1,"high")]))}const a=JSON.parse(localStorage.getItem("todos"));for(let e of a){const a=document.createElement("div"),o=document.createElement("h3"),l=document.createElement("p"),d=document.createElement("span"),c=document.createElement("div"),i=document.createElement("input"),r=document.createElement("LABEL"),s=document.createElement("div");i.setAttribute("type","checkbox"),i.className="form-check-input",r.innerHTML="Done:",r.className="form-label px-3",c.className="mb-3",s.innerHTML=e.priority,"high"===s.innerHTML&&(s.className="p-5 bg-danger"),"med"===s.innerHTML&&(s.className="p-5 bg-warning"),"low"===s.innerHTML&&(s.className="p-5 bg-success"),o.innerHTML=e.title,l.innerHTML=e.description,d.innerHTML=e.date,i.checked=e.done,i.addEventListener("click",(()=>{t(i.checked)})),a.appendChild(o),a.appendChild(l),a.appendChild(d),c.appendChild(i),c.appendChild(r),a.appendChild(c),a.appendChild(s),n.appendChild(a)}})(),(()=>{const t=["high","med","low"],n=document.getElementById("modal-btn"),a=document.getElementById("exampleModal"),o=document.createElement("div");o.className="modal-dialog";const l=document.createElement("div");l.className="modal-content";const d=document.createElement("div");d.className="modal-header bg-primary";const c=document.createElement("h5");c.className="modal-title text-uppercase text-white",c.innerHTML="Create a To-do!";const i=document.createElement("button");i.className="close";const r=document.createElement("span");r.innerHTML="&#215;",r.className="h2",i.className="btn btn-danger py-0 px-2",n.addEventListener("click",(()=>{a.style="display:block; background: #050505a8"})),i.addEventListener("click",(()=>{a.style="display:none;"}));const s=document.createElement("div");s.className="modal-body";const m=document.createElement("form"),p=document.createElement("div"),u=document.createElement("input"),h=document.createElement("LABEL");u.setAttribute("type","text"),u.className="form-control",h.innerHTML="Title:",h.className="form-label h5",p.className="mb-3";const g=document.createElement("div"),E=document.createElement("TEXTAREA"),N=document.createElement("LABEL");E.className="form-control",N.innerHTML="Description:",N.className="form-label h5",g.className="mb-3";const y=document.createElement("div"),b=document.createElement("input");y.className="mb-3",b.setAttribute("type","date");const C=document.createElement("SELECT"),f=document.createElement("input");f.setAttribute("type","submit"),f.className="btn btn-primary w-100",f.style="font-weight: bolder",C.className="form-select my-3",u.id="title",u.required=!0,E.id="description",E.required=!0,b.id="date",b.required=!0,C.id="priority",f.id="btn";for(let e of t){var v=document.createElement("option");e==t[2]&&(v.selected=!0),v.value=e,v.text=e,C.appendChild(v)}d.appendChild(c),i.appendChild(r),d.appendChild(i),l.appendChild(d),p.appendChild(h),p.appendChild(u),m.appendChild(p),g.appendChild(N),g.appendChild(E),m.appendChild(g),y.appendChild(b),m.appendChild(y),m.appendChild(C),m.appendChild(f),s.appendChild(m),l.appendChild(s),o.appendChild(l),a.appendChild(o),f.addEventListener("click",(t=>{t.preventDefault(),""!==u.value&&""!==E.value&&new e(u.value,E.value,function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),o=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[o,n,a].join("-")}(b.value),!1,C.value).add(),window.location.reload()}))})()})();