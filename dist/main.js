(()=>{"use strict";const e=()=>new URL(window.location.href).search.toString().replace(/[^A-Za-z]+/g," ");class t{constructor(e,t,n,a=!1,o="low"){this.title=String(e),this.description=String(t),this.date=new Date(n),this.done=a,this.priority=o}add(){const t=[],n=JSON.parse(localStorage.getItem("groups"));let a;for(let e of n)t.push(e.title);n[0].todos.push(this.create()),t.includes(e().trim())&&"Default"!=e().trim()&&(n.map((t=>{t.title===e().trim()&&(a=t)})),a.todos.push(this.create())),localStorage.setItem("groups",JSON.stringify(n))}create(){const{title:e,description:t,date:n,done:a,priority:o,group:l}=this;return{title:e,description:t,date:n,done:a,priority:o}}}const n=e=>{const t=JSON.parse(localStorage.getItem("groups")),n=JSON.parse(localStorage.getItem("priorities"));for(let a of t[0].todos)if(a.title===e.title){if(a.done=!a.done,null===localStorage.getItem("priorities")){const e=[];e.push({priority:a.priority,title:a.title}),localStorage.setItem("priorities",JSON.stringify(e))}n.every((e=>e.title!=a.title))&&(n.push({priority:a.priority,title:a.title}),localStorage.setItem("priorities",JSON.stringify(n))),!0===a.done&&(a.priority="done");for(let e of n)!1===a.done&&e.title==a.title&&(a.priority=e.priority)}localStorage.setItem("groups",JSON.stringify(t)),window.location.reload()},a=t=>{const n=JSON.parse(localStorage.getItem("groups"));for(let t=0;t<n.length;t++)e().trim()==n[t].title&&n[t].todos.forEach(((e,a)=>{n[t].todos.splice(a,a+1)}));localStorage.setItem("groups",JSON.stringify(n)),window.location.reload()};class o{constructor(e,t,n){this.title=String(e),this.description=String(t),this.todos=n}add(){const e=JSON.parse(localStorage.getItem("groups"));e.push(this.create()),localStorage.setItem("groups",JSON.stringify(e))}create(){const{title:e,description:t,todos:n}=this;return{title:e,description:t,todos:n}}}const l=e=>{const t=JSON.parse(localStorage.getItem("groups"));for(let n=0;n<t.length;n++)e.title==t[n].title&&t.splice(n,1);localStorage.setItem("groups",JSON.stringify(t)),window.location.reload()},d=[],i=JSON.parse(localStorage.getItem("groups"));for(let e of i)d.push(e.title);""!==e()&&" "!==e()||(document.getElementById("content").innerHTML="",(()=>{const e=document.getElementById("content"),t=document.getElementById("exampleModal2"),n=document.createElement("button"),a=document.createElement("i");n.className="btn btn-dark",n.id="modal-btn2",n.appendChild(a),a.className="fas fa-plus-circle fa-2x text-white";const l=document.createElement("div");l.className="modal-dialog";const d=document.createElement("div");d.className="modal-content";const i=document.createElement("div");i.className="modal-header bg-primary";const c=document.createElement("h5");c.className="modal-title text-uppercase text-white",c.innerHTML="Create a group!";const r=document.createElement("button");r.className="close";const s=document.createElement("span");s.innerHTML="&#215;",s.className="h2",r.className="btn btn-danger py-0 px-2",n.addEventListener("click",(()=>{t.style="display:block; background: #050505a8"})),r.addEventListener("click",(()=>{t.style="display:none;"}));const m=document.createElement("div");m.className="modal-body";const p=document.createElement("form"),u=document.createElement("div"),g=document.createElement("input"),h=document.createElement("LABEL");g.setAttribute("type","text"),g.className="form-control",h.innerHTML="Title:",h.className="form-label h5",u.className="mb-3";const E=document.createElement("div"),N=document.createElement("TEXTAREA"),b=document.createElement("LABEL");N.className="form-control",b.innerHTML="Description:",b.className="form-label h5",E.className="mb-3";const y=document.createElement("input");y.setAttribute("type","submit"),y.className="btn btn-primary w-100",y.style="font-weight: bolder",g.id="title",g.pattern="[A-Za-z]+",g.title="Only letters!",g.required=!0,N.id="description",N.required=!0,y.id="btn",i.appendChild(c),r.appendChild(s),i.appendChild(r),d.appendChild(i),u.appendChild(h),u.appendChild(g),p.appendChild(u),E.appendChild(b),E.appendChild(N),p.appendChild(E),p.appendChild(y),m.appendChild(p),d.appendChild(m),l.appendChild(d),t.appendChild(l),e.appendChild(n),y.addEventListener("submit",(e=>{e.preventDefault(),""!==g.value&&""!==N.value&&new o(g.value,N.value,[]).add(),window.location.reload()}))})(),(()=>{const e=document.getElementById("content");null!==localStorage.getItem("groups")&&null!=JSON.parse(localStorage.getItem("groups"))[0]||localStorage.setItem("groups",JSON.stringify([new o("Default","Saying good morning to my beloved mother",[])]));const t=JSON.parse(localStorage.getItem("groups"));for(let n of t){const t=document.createElement("div");t.className="container";const a=document.createElement("div");a.className="card";const o=document.createElement("div");o.className="card-header bg-dark";const d=document.createElement("div");d.className="card-body";const i=document.createElement("div");i.className="card-footer d-flex justify-content-between align-items-center";const c=document.createElement("h3"),r=document.createElement("p"),s=document.createElement("button"),m=document.createElement("a");s.className="ml-auto btn btn-danger",s.innerHTML="Delete",m.className="ml-auto btn btn-dark",m.innerHTML="View Group",m.href=`?=${n.title}`,m.id="view_group",c.innerHTML=n.title,c.className="text-white",r.innerHTML=`<strong>Description:</strong> <br> ${n.description}`,s.addEventListener("click",(()=>{l(n)})),i.appendChild(s),i.appendChild(m),d.appendChild(r),o.appendChild(c),a.appendChild(o),a.appendChild(d),a.appendChild(i),t.appendChild(a),e.appendChild(t)}})()),d.includes(e().trim())&&(document.getElementById("content").innerHTML="",(()=>{const e=["high","med","low"],n=document.getElementById("content"),a=document.getElementById("exampleModal"),o=document.createElement("button"),l=document.createElement("i");o.className="btn btn-warning",o.id="modal-btn2",o.appendChild(l),l.className="fas fa-plus-circle fa-2x text-white";const d=document.createElement("div");d.className="modal-dialog";const i=document.createElement("div");i.className="modal-content";const c=document.createElement("div");c.className="modal-header bg-primary";const r=document.createElement("h5");r.className="modal-title text-uppercase text-white",r.innerHTML="Create a To-do!";const s=document.createElement("button");s.className="close";const m=document.createElement("span");m.innerHTML="&#215;",m.className="h2",s.className="btn btn-danger py-0 px-2",o.addEventListener("click",(()=>{a.style="display:block; background: #050505a8"})),s.addEventListener("click",(()=>{a.style="display:none;"}));const p=document.createElement("div");p.className="modal-body";const u=document.createElement("form"),g=document.createElement("div"),h=document.createElement("input"),E=document.createElement("LABEL");h.setAttribute("type","text"),h.className="form-control",E.innerHTML="Title:",E.className="form-label h5",g.className="mb-3";const N=document.createElement("div"),b=document.createElement("TEXTAREA"),y=document.createElement("LABEL");b.className="form-control",y.innerHTML="Description:",y.className="form-label h5",N.className="mb-3";const f=document.createElement("div"),C=document.createElement("input");f.className="mb-3",C.setAttribute("type","date");const v=document.createElement("SELECT"),S=document.createElement("input");S.setAttribute("type","submit"),S.className="btn btn-primary w-100",S.style="font-weight: bolder",v.className="form-select my-3",h.id="title",h.required=!0,b.id="description",b.required=!0,C.id="date",C.required=!0,v.id="priority",S.id="btn";for(let t of e){var L=document.createElement("option");t==e[2]&&(L.selected=!0),L.value=t,L.text=t,v.appendChild(L)}c.appendChild(r),s.appendChild(m),c.appendChild(s),i.appendChild(c),g.appendChild(E),g.appendChild(h),u.appendChild(g),N.appendChild(y),N.appendChild(b),u.appendChild(N),f.appendChild(C),u.appendChild(f),u.appendChild(v),u.appendChild(S),p.appendChild(u),i.appendChild(p),d.appendChild(i),a.appendChild(d),n.appendChild(o),S.addEventListener("click",(e=>{e.preventDefault(),""!==h.value&&""!==b.value&&new t(h.value,b.value,C.value,!1,v.value).add(),window.location.reload()}))})(),(()=>{const o=document.getElementById("content"),l=document.createElement("a");if(l.href="?=",l.innerHTML="home",l.className="position-fixed btn btn-primary px-2 m-0",l.style="top:0",0===JSON.parse(localStorage.getItem("groups"))[0].todos.length){const e=new Date,n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=JSON.parse(localStorage.getItem("groups"));a[0].todos.push(new t("Morning mommy","Saying good morning to my beloved mother",n,!1,"high")),localStorage.setItem("groups",JSON.stringify(a))}let d=[];JSON.parse(localStorage.getItem("groups")).map((t=>{t.title===e().trim()&&(d=[...t.todos])}));for(let e of d){const t=document.createElement("div");t.className="container";const d=document.createElement("div");d.className="card";const p=document.createElement("div");p.className="card-header";const u=document.createElement("div");u.className="card-body";const g=document.createElement("div");g.className="card-footer d-flex justify-content-between align-items-center";const h=document.createElement("h3"),E=document.createElement("p"),N=document.createElement("span"),b=document.createElement("div"),y=document.createElement("input"),f=document.createElement("LABEL"),C=document.createElement("div");y.setAttribute("type","checkbox"),y.className="form-check-input",f.innerHTML="Done:",f.className="form-label px-1";const v=document.createElement("button");v.className="ml-auto btn btn-danger",v.innerHTML="Delete",C.innerHTML=e.priority,h.innerHTML=e.title,h.className="text-white",E.innerHTML=`<strong>Description:</strong> <br> ${e.description}`,N.innerHTML=`<strong>Date: </strong> <br> ${i=e.date,c=void 0,r=void 0,s=void 0,m=void 0,c=new Date(i),r=""+(c.getMonth()+1),s=""+c.getDate(),m=c.getFullYear(),r.length<2&&(r="0"+r),s.length<2&&(s="0"+s),[m,r,s].join("-")}`,y.checked=e.done,"high"===C.innerHTML&&(p.className="p-3 bg-danger"),"med"===C.innerHTML&&(p.className="p-3 bg-warning"),"low"===C.innerHTML&&(p.className="p-3 bg-success"),"done"===C.innerHTML&&(p.className="p-3 bg-default",h.className="text-dark"),y.addEventListener("click",(()=>{n(e)})),v.addEventListener("click",(()=>{a()})),b.appendChild(f),b.appendChild(y),g.appendChild(b),g.appendChild(v),u.appendChild(E),u.appendChild(N),p.appendChild(h),d.appendChild(p),d.appendChild(u),d.appendChild(g),t.appendChild(d),document.body.appendChild(l),o.appendChild(t)}var i,c,r,s,m})())})();